function readBitmap(e){fs.readFile(e,function(e,r){return e?console.log(e):(getHeadInfo(r),void transform(r))})}function getHeadInfo(e){var r={};return r.type=e.toString("utf8",0,2),r.size=e.readUInt32LE(2),r.pixels=e.readUInt32LE(10),r.palette=e.readUInt32LE(46),r.someColors=e.toString("utf8",54,94),console.log(r),r}function transform(e){for(var r=[],a=0;a<e.length;a++)e[a]=e.readUInt8(a),r.push(e[a]);for(var t=54;t<r.length;t++)r[t]%2&&(r[t]=Math.floor(255*Math.random())),r[t]=r[t]/2;newBitmap(r)}function makeNew(e){var r=new Buffer(e);fs.writeFile("new_bitmap.bmp",r,function(e){return e?console.log(e):void console.log("Success, your file has been created!")})}var os=require("os"),bitmapParser=function(e){if(Buffer.isBuffer(e)){var r={};return r.osEndianness=os.endianness(),r.type=e.slice(0,2),r.sizeOfBitmapInBytes=e.slice(2,6),r.pixelOffsetInBytes=e.slice(10,14),r}return void 0===e?"Error: bitmapParser has not been provided a [bitmapBuffer].  [bitmapBuffer] must be a buffer provided to the function.":"Error: bitmapParser has been provided an invalid [bitmapBuffer].  [bitmapBuffer] must be a buffer."};exports.bitmapParser=bitmapParser;var fs=require("fs"),transform=require(__dirname+"/transform").transform;exports.readBitmap=readBitmap,exports.getHeadInfo=getHeadInfo;var readBitmap=require(__dirname+"/bitmap_data_reader.js"),newBitmap=require(__dirname+"/write_new_bitmap.js").makeNew;exports.transform=transform;var fs=require("fs"),transform=require(__dirname+"/transform.js").transform;exports.makeNew=makeNew;